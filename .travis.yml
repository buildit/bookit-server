language: node_js
node_js:
- '7'
env:
  global:
  - USE_CLOUD=true
  - secure: UvTNvw3SU46B1c9oLjvJSgS3+AdwBa3ajNYwctO3fflBbDuuIfsYaFOan9CHrq1Nbtmn1Wg9SOXKr8eeqpYyw7xbSgtW7ZGY0+0gMEBA6QXeSbTOFjBEiyPU7YdVx8grUDwAKAK08QczLDeOSVoJ1vf9CzEFMU2T3QnTUMf9VUT/hSVxoIwWVVAQTeaBOrc27xmvI58aReuR8qLJvRbOQAYjguAqnhc/7iY79AUVVCOqUueJGftQ6bdRsP/KVMD5SQZpVhqOV7SzFS7LN6DSaY9iA5/LCd046d6zRA2OvWKt65pwu1Mp9USpLO5Naoyf8NzqlMactqmRP74v4nDEC/2haZD2I9gdF0wgGhwrm8kgDUAwU9C3P1DHFdPiP+WPgV1rEuoBbWH6L1sB+GXpTZ6md9sbrCanhnPQsiUrdE4th7Y6XPmut20DThWX5w85Y1+f9nZEUfr5fdl2Anl18N8s9oTbON9LBREOpyxRX4bPONE9aWua/xZLcKRtMpIZiTvHgwPUC4X8r3hHkF66jtjSksZL593dRNEPzjMLjlFXm6AuhlghorKlme6qFsZQswOwE91k+0VWLPElA8jiulRsmqroNF7b9fKYknG3RuOxL0DxXRdYCWqGbSGTutksRJ0DrPwseX347RLyV9a7a2Io+KF0us6zHkpSTeaN18M=
  - secure: YPoFaHZUA17ExUNd32cQu609UTCBuo9w/9nLDBAO6l2ZJTPbTWLpqIj0fAjuCxkTm4dn1K4EobaCaOGR1W3fLtvKwuoVcmWc8Og9ZjqcxRDGRSY0+GsytOGeBun7RwR/kX+WxeMz9gZySjY96zHeYQswa2nWhuaggJv9HuB+ZQ16evp8km2kNhT14ibsE3ktv/hKjOKNng1nrnAKx8aZRVhT6+VnATrIAWSCcDR0xC/wzYEx6bKTPWGPiXVxfjYLGAwz2+kj7NFCx00Ih7jhEGaGOd8GVxPa2d6pfNy9R4Q4lnCI65kj5q//oIRqvLvmID5Jmqu8rKuLBA11zJa+DdmFQcjXQ4+b/jbzZUyYmGZspoNcKGIPbxBcf7wQj5NRuuE6MqfGX04zaheBpU0t+uWGIsy7mOi8vkNTDCPWcwWafxJCMayNMZqKJ52/pusMcDH5p+uQbVe5tbG4OwDsM1YbliiCFsdurilHN/pUVHm5ZxEMpKck17b/yrvPzwhqtexO/ngxmWCTXbr7kPOWkoNeUraipogqio3i6Q8rFI5lFOQEB4i5y1qn+eQoeCMZzmaNwsirZHhh4FbyYOwTcCUYe+beDI2ckNrYUlEhbI8Pm4Fqc4ZdrJW9l1odhg1ftCncbdoos4O8Gx5o7x0TD91oTFjqBLtPJPVBtToajrM=
  - secure: TmbioSb/Floc8t669JMlDicfmCRhhcyEoHfa/VGRt+ptAKQD8Ha+oNwSe+xqkPs0MWNmU3rsFtGT6V81rP3Yg/YdxspiM5gZp0w+p28mh87i45u7RCojqtZYCKxmXWCm0NnHhQoHpzAJWEe5X+PhC76zxH9H3k/Hj/qsYFwzdu3wUYp9iSfYJLDW6h9TZRrYI81VqTYHO5EHjHJi6VJilsAhv6NQcGZvkHpn/xbky7/tgUI6+O1eb5pxA0ebBNpJ+aJVysTuJzVDQt6IZhufYvIjk9j6BP4SbIkQkvaDdedS59qainrMGsYwQvIP0oKYKqgD7SlyrhSFNz3rYDIyC/aFoHpPW7FgmaeO1R0P2NvGhEhodTSY0h+OrxYo8lg4SQ5QqoCFDT2duX4NngSy0wxNFQu63WxWNzcQQqtG8HoUvLNCEKdtJ9L9QbMUrDGUukclyq7qpqUFh/k8gYFTf2FT/4cCncvRRmkjKJeRBTe2lq9c5ikdmgBc4uFW/zEuWYrRWkLORhbmC86s92vkCY06fuU9JgUCrgSdmJLuNwujvzS3LE1JEQRw3Cx06lYyIkiHJotteMD4i5y5T7z6/ZKsKf1MKxwjXdxQnpejsLUIrXwJ9cAROsqMugWQaaihkoiVJ0B1HTj6Puxs+LkPeQOX0yqvh+TPx1hEmMN2dmA=
notifications:
  slack:
    secure: 1npn2TEo6mq5mrMd/ChPyPchE9piEJzgNvs15WK6SukquaPWRxBLw6aYaF5XlUv2B/zaEJWr4vgxvmimauIJuIwJvdEgltDSZYxIyolX/7YhnqH5lNsf6hmn+6DIzpyLUJDvsRcUVguxut1vGCWm6891GjsyF92Gxw8xGyIcejOptFBglp5GkMa7IHwpba7Wghvy6m6PGtu8g959US2YK68YeHslsXAytipdGohaan1tHWOQL9d+3X5OAZKLaAVnLqrWtYaUQy0dBW6Hoq8QBLsNHkcvzRp/R1Xy03oowqnxfB/tsnmvgnU4BBrxndqWYlrBj5/bO87wSe5N4C5oMZGCeHNKVsxfWGJXldvC3Zl3xxE7zxna5U3pblCBOzUy9+BWB7dX/5CdKg3IR6dbwRRoWds/cY3hlpSAHU7YDW8thASXq8ml2Tnq75kAHs/gpUFKGnsUNhs3mTLYXILQr4wQda4Qmgijgtl+5bcQ9esDEbe40HeGCfey2fMERDc2jMFIJtKCoQOJyddzybYmYB4Ew6eFlsU3o8Psndf8glfoDsEZy7bYWq8rdc8GZrV4IfIGAM1tIunoEXkDXBZ40FoO4hA12M3C1Lhwo05LPMTThTU+ToPHoYyHk+zKgCfvzR+jl3TBIUlMm3270W3ZHPss4i7Y6E6e5ePu9a/Y4FE=
sudo: required
services:
- docker
after_success:
- docker build -t builditdigital/bookit-server:latest .
- docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
- docker push builditdigital/bookit-server:latest
